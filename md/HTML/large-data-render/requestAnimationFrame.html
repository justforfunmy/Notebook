<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<ul id="container"></ul>
	</body>
	<script>
		const ul = document.getElementById('container')
		const total = 100000
		const once = 20
		const times = total / once
		let idx = 0
		function loop(curIndex) {
			if (curIndex < times) {
				window.requestAnimationFrame(() => {
					let fragment = document.createDocumentFragment()
					for (let i = 0; i < once; i++) {
						const li = document.createElement('li')
						li.innerText = curIndex + ':' + i
						fragment.appendChild(li)
					}
					ul.appendChild(fragment)
					loop(++curIndex)
				})
			}
		}
		loop(idx)
	</script>
</html>
