<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    /*  观察者模式指的是一个对象（Subject）维持一系列依赖于它的对象（Observer），当有关状态发生变更时 Subject 对象则通知一系列 Observer 对象进行更新。
      在观察者模式中，Subject 对象拥有添加、删除和通知一系列 Observer 的方法等等，而 Observer 对象拥有更新方法等等。 */
    class Subject{
        constructor(){
            this.Observers = []
        }
        add(observer){
            this.Observers.push(observer)
        }
        remove(observer){
            this.Observers.filter(item=>item === observer)
        }
        notify(){
            this.Observers.forEach(item=>{
                item.update()
            })
        }
    }

    class Observer{
        constructor(name){
            this.name = name;
        }
        update(){
            console.log(`my name is ${this.name}`)
        }
    }

    let sub = new Subject()
    let obs1 = new Observer('king')
    let obs2 = new Observer('sara')
    sub.add(obs1)
    sub.add(obs2)
    sub.notify()
</script>
</html>